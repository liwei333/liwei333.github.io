(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{475:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("blockquote",[t("p",[t("strong",[s._v("疑问：")])]),s._v(" "),t("ul",[t("li",[s._v("用户是怎么访问到的我们开发好的网站的？")]),s._v(" "),t("li",[s._v("我们的项目开发完毕之后是怎么上线的？")]),s._v(" "),t("li",[s._v("实际开发过程当中，项目上线的活儿要前端程序员来做吗？")])])]),s._v(" "),t("h2",{attrs:{id:"一、网站运行机制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、网站运行机制"}},[s._v("#")]),s._v(" 一、网站运行机制")]),s._v(" "),t("h3",{attrs:{id:"_1-名词解释"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-名词解释"}},[s._v("#")]),s._v(" 1. 名词解释")]),s._v(" "),t("h4",{attrs:{id:"域名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#域名"}},[s._v("#")]),s._v(" 域名")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("www.baidu.com")]),s._v(" "),t("li",[s._v("www.taobao.com")]),s._v(" "),t("li",[s._v("www.qq.com")])])]),s._v(" "),t("blockquote",[t("p",[s._v("域名俗称网址，是由一串用点分隔的名字组成，用于标识互联网上的计算机。")]),s._v(" "),t("p",[s._v("原本用于标识互联网上计算机使用的是 IP 地址，但是由于 IP 地址不便于记忆，所以人们便设计出来比较容易记忆的域名，然后通过 DNS 将域名和 IP 地址关联，这样人们便可以通过记忆域名直接访问到对应的计算机。")])]),s._v(" "),t("h4",{attrs:{id:"dns-服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dns-服务器"}},[s._v("#")]),s._v(" DNS 服务器")]),s._v(" "),t("blockquote",[t("p",[s._v("DNS (Domain Name System)，可以理解为互联网上的一项服务，他可以将域名转换成其对应的 IP 地址。")]),s._v(" "),t("p",[s._v("可以将其理解为字典，字典中存储的就是域名和 IP 地址一一对应的键值对。")]),s._v(" "),t("p",[s._v("本地 hosts 文件")]),s._v(" "),t("p",[s._v("windows: c:\\windows\\system32\\drivers\\etc\\hosts")]),s._v(" "),t("p",[s._v("mac: /etc/hosts")])]),s._v(" "),t("h4",{attrs:{id:"服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务器"}},[s._v("#")]),s._v(" 服务器")]),s._v(" "),t("blockquote",[t("p",[s._v("服务器其实就是一台计算机，但是这台计算机并和我们自己的的 PC 不一样，不是日常使用的，而是提供某项互联网服务的。")]),s._v(" "),t("p",[s._v("比如 web 服务器，能为我们提供网页服务，email 服务器，能为我们提供电子邮件服务，FTP 服务器能为我们提供文件存储服务等等。")]),s._v(" "),t("p",[s._v("为计算机安装不同的服务应用程序，即可提供相应的服务。")]),s._v(" "),t("p",[s._v("常见的web 服务应用程序： Apache、Nginx、IIS、Node.js")])]),s._v(" "),t("h3",{attrs:{id:"_2-网站请求流程-简化版"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-网站请求流程-简化版"}},[s._v("#")]),s._v(" 2. 网站请求流程（简化版）")]),s._v(" "),t("h4",{attrs:{id:"静态页面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#静态页面"}},[s._v("#")]),s._v(" 静态页面")]),s._v(" "),t("p",[s._v("网页只请求和响应简单的 HTML、CSS、JavaScript 文件，未和服务端进行任何数据通信。这样的页面叫做静态页面。")]),s._v(" "),t("h4",{attrs:{id:"动态页面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#动态页面"}},[s._v("#")]),s._v(" 动态页面")]),s._v(" "),t("p",[s._v("页面内有和服务器进行数据通信，这样的页面叫做动态页面。")]),s._v(" "),t("h4",{attrs:{id:"前后端分离的页面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前后端分离的页面"}},[s._v("#")]),s._v(" 前后端分离的页面")]),s._v(" "),t("blockquote",[t("p",[s._v("前后端分离的项目中，页面中的数据渲染是在浏览器中完成的。")])]),s._v(" "),t("p",[s._v("前后端分离的页面请求分为两部分： 静态页面请求 + ajax 数据请求")]),s._v(" "),t("h4",{attrs:{id:"前后端不分离的页面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前后端不分离的页面"}},[s._v("#")]),s._v(" 前后端不分离的页面")]),s._v(" "),t("blockquote",[t("p",[s._v("前后端不分离的项目中，页面中的数据渲染操作是在服务器端完成的。")])]),s._v(" "),t("p",[s._v("前后端不分离的页面一次请求就能完成。")]),s._v(" "),t("h2",{attrs:{id:"二、网站上线部署流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、网站上线部署流程"}},[s._v("#")]),s._v(" 二、网站上线部署流程")]),s._v(" "),t("h3",{attrs:{id:"_1-服务器购买"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-服务器购买"}},[s._v("#")]),s._v(" 1. 服务器购买")]),s._v(" "),t("p",[s._v("国内服务器： 阿里云 ECS(Elastic Compute Service)，腾讯云 CVM(Cloud Virtual Machine) 等")]),s._v(" "),t("p",[s._v("国外服务器： 日本 "),t("a",{attrs:{href:"https://www.vultr.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Vultr"),t("OutboundLink")],1),s._v(", 美国 Linode, 谷歌云，微软 Azure，亚马逊 AWS 等")]),s._v(" "),t("p",[s._v("这一步需要创建好服务器实例，分配好外网 IP 地址。")]),s._v(" "),t("h3",{attrs:{id:"_2-域名购买"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-域名购买"}},[s._v("#")]),s._v(" 2. 域名购买")]),s._v(" "),t("p",[s._v("国内： 万网（阿里）、腾讯等")]),s._v(" "),t("p",[s._v("国外： Godaddy")]),s._v(" "),t("h3",{attrs:{id:"_3-域名解析-配置-dns"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-域名解析-配置-dns"}},[s._v("#")]),s._v(" 3. 域名解析（配置 DNS）")]),s._v(" "),t("p",[s._v("注册好域名之后需要将域名映射到自己服务器对应的 IP 地址，这样别人才能通过域名访问到我们的服务器。")]),s._v(" "),t("p",[s._v("这个步骤叫做域名解析，通过域名服务商提供的后台就可以操作，一般域名解析都会有延迟，不是即时生效的。")]),s._v(" "),t("h3",{attrs:{id:"_4-服务器环境搭建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-服务器环境搭建"}},[s._v("#")]),s._v(" 4. 服务器环境搭建")]),s._v(" "),t("p",[s._v("配置服务器，Mac 系统下直接用终端就ok")]),s._v(" "),t("p",[s._v("windows下需要用到 git bash, 或者别的工具（Putty）")]),s._v(" "),t("p",[s._v("需要用到的 Linux 系统操作命令")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 远程连接命令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" root@域名\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 展示当前文件夹路径")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换文件夹目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" 目录路径\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 展示当前文件夹中内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编辑文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" 文件路径\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 传输文件 ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" 本地文件路径 root@域名:远程路径\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解压文件命令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("unzip")]),s._v(" \n")])])]),t("h4",{attrs:{id:"_4-1-安装-centos-开发人员相关包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-安装-centos-开发人员相关包"}},[s._v("#")]),s._v(" 4.1 安装 CentOS 开发人员相关包")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("yum groupinstall "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Development tools'")]),s._v("\n")])])]),t("p",[s._v("####4.2 配置免密登陆")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在自己电脑上 生成本地 秘钥对")]),s._v("\nssh-keygen "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" rsa \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成的位置")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mac 在 ~/.ssh")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# windows 在 C:\\users\\你的用户名\\.ssh")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在服务器创建了一个.ssh 文件夹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" .ssh\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到这个文件夹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" .ssh\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建了一个文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" authorized_keys\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 我们把自己电脑上的 id_rsa.pub 文件中的内容 放到 authorized_keys文件中")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cqHuvyGI2EXH5EOT/wsjIlNqH6kRaGRzLOcYAoYyn+0nsPhEfFOkv1cii9Ax9naeJuw78LapaXxmGgkcBWdk2W1KXkL5tPIZUIZAfwJ4PihDQ+0rUj5Yar741NvZYNYZ+xa1RBeziR3gbwdTLPV22Et9TTiLVEY0bNXxgvI1GGvT87f+sFB5hEB0HyQpDFyjDN+UyxTKf/Zf/7Z2z/Qz2kWTFI6oaCNfScdhjEUO8qzSsjR+9X5hE6dxmz8EII0jvAumnBy0kcIv9BaQ6TCQrijh0TWWkih2HRq8prmBzCWxb3a2A/f9PM+E6kdDBZ9lJTgB4ww8IQDxVXxhg5B14pR7ULA0rpT4ITPNFzzkVt5mo2m1bF0VH3HFiJWATaLCHZoKm8Qij6LbDL20dr4StE4zJ2fEKhi7c4CU= Ryan@panmings-MBP.lan"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" authorized_keys\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 退出服务器，下次直接就能免密登陆了")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n")])])]),t("h4",{attrs:{id:"_4-3-安装nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-安装nginx"}},[s._v("#")]),s._v(" 4.3 安装Nginx")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加 Nginx 源")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" epel-release\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装 Nginx")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nginx\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动 Nginx")]),s._v("\nnginx\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置防火墙规则")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" firewall-cmd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--permanent")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--zone")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-service"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http \n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" firewall-cmd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--permanent")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--zone")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-service"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" firewall-cmd "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--reload")]),s._v("\n")])])]),t("h4",{attrs:{id:"_4-4-安装node-js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-安装node-js"}},[s._v("#")]),s._v(" 4.4 安装Node.js")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum自带源中没有Node.js,所以首先要获取Node.js资源：")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--silent")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--location")]),s._v(" https://rpm.nodesource.com/setup_14.x "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" -\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装 Node.js")]),s._v("\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" nodejs\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装完成之后使用如下指令测试安装是否成功")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装pm2 node.js程序管理工具")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i pm2 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用pm2 启动node.js项目")]),s._v("\npm2 start 文件名\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止")]),s._v("\npm2 stop 文件名或者id\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从pm2的管理列表中删除")]),s._v("\npm2 delete 文件名或者id\n")])])]),t("h4",{attrs:{id:"_4-5-安装mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-安装mysql"}},[s._v("#")]),s._v(" 4.5 安装MySQL")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载并安装 MySQL 源")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum localinstall mysql80-community-release-el7-3.noarch.rpm\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装 MySQL")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-community-server "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果上一步报错 执行下面的语句 之后 再次执行一下上面的安装Mysql的语句")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum module disable mysql\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动MySQL")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start msyqld\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找到默认密码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# MySQL安装完毕之后会自动设置一个默认密码，我们需要找到默认密码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'temporary password'")]),s._v(" /var/log/mysqld.log\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 连接到MySQL数据库，修改密码")]),s._v("\nmysql "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-uroot")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v("\n\nALTER "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" IDENTIFIED BY "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Duyi_666duyi'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"_5-上传网站资源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-上传网站资源"}},[s._v("#")]),s._v(" 5. 上传网站资源")]),s._v(" "),t("p",[s._v("可以使用 "),t("code",[s._v("scp")]),s._v(" 命令，也可以安装 FTP （vsftpd）工具。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" 本地文件 root@域名:远程路径\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在服务器创建文件夹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /home/nginx/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把网页文件移动到创建好的文件夹里")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" ./dist.zip /home/nginx/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解压压缩文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /home/ningx\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("unzip")]),s._v(" ./dist.zip\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改文件夹名字")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" dist ilovefe\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 结果就是  /home/nginx/ilovefe  这个文件夹中放的就是我们的网页文件了")]),s._v("\n")])])]),t("h3",{attrs:{id:"_6-配置nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-配置nginx"}},[s._v("#")]),s._v(" 6. 配置Nginx")]),s._v(" "),t("p",[s._v("创建一个ilovefe.conf文件")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc/nginx/conf.d\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建配置文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" ilovefe.conf\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ilovefe.conf\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 按i键 进出插入模式")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 复制下面的内容，粘贴进去")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 保存退出")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 按一下esc退出编辑模式")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 然后输入 下面的内容 敲回车")]),s._v("\n:wq\n")])])]),t("p",[s._v("ilovefe.conf")]),s._v(" "),t("div",{staticClass:"language-configure extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("server {\n    listen       80;\n    server_name  ilovefe.com;\n\n    location / {\n        root   /home/nginx/ilovefe;\n        index  index.html index.htm;\n    }\n    \n}\n")])])]),t("h3",{attrs:{id:"_7-接口项目部署步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-接口项目部署步骤"}},[s._v("#")]),s._v(" 7. 接口项目部署步骤")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("修改配置文件中的 mysql 数据库密码")])]),s._v(" "),t("li",[t("p",[s._v("上传项目压缩文件到服务器")])]),s._v(" "),t("li",[t("p",[s._v("在服务器上解压项目文件到 /home/nginx/ilovefeadmin")])]),s._v(" "),t("li",[t("p",[s._v("为项目安装依赖项 npm i")])]),s._v(" "),t("li",[t("p",[s._v("修改mysql数据库 密码规则")]),s._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("use mysql;\nALTER USER 'root'@'localhost' IDENTIFIED BY 'Duyi_666duyi' PASSWORD EXPIRE NEVER;\nALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'Duyi_666duyi';\n\n# 查看是否已经修改成功\nselect user,host,plugin from user where user='root'; \n")])])])]),s._v(" "),t("li",[t("p",[s._v("创建新的数据库")]),s._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("create database vuesql;\n")])])])]),s._v(" "),t("li",[t("p",[s._v("在之前的nginx配置文件中添加反向代理的配置：")])])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(" location ^~ /api/ {\n  \t\trewrite  ^/api/(.*)$ /$1 break;\n    \tproxy_pass  http://127.0.0.1:3000;\n }\n")])])]),t("p",[s._v("ilovefeamdin.conf")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("server {\n    listen       80;\n    server_name  admin.ilovefe.com;\n    \n    location / {\n    \tproxy_pass  http://127.0.0.1:3000;\n\t\t}\n}\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);